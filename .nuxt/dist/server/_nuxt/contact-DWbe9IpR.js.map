{"version":3,"file":"contact-DWbe9IpR.js","sources":["../../../../pages/api/contact.js"],"sourcesContent":["// pages/api/contact.js\n\nimport express from 'express';\nimport nodemailer from 'nodemailer';\n\nconst router = express.Router();\n\n// Nodemailer setup with environment variables\nconst transporter = nodemailer.createTransport({\n  service: 'gmail',\n  auth: {\n    user: process.env.EMAIL_USER,\n    pass: process.env.EMAIL_PASS\n  }\n});\n\n// Route to handle POST requests to '/api/contact'\nrouter.post('/', async (req, res) => {\n  // Your logic to handle form data and send emails\n  const { fullName, email, subject, message } = req.body;\n\n  // Validate the input\n  if (!fullName || !email || !subject || !message) {\n    return res.status(400).send('All fields are required.');\n  }\n\n  // Set up email data\n  let mailOptions = {\n    from: process.env.EMAIL_USER, // sender address\n    to: 'andreicarpen@gmail.com', // list of receivers\n    subject: `New contact from ${fullName}`, // Subject line\n    text: `You have a new contact from:\\nName: ${fullName}\\nEmail: ${email}\\nSubject: ${subject}\\nMessage: ${message}`, // plain text body\n    html: `<b>You have a new contact from:</b>\n    <p>Name: ${fullName}</p>\n    <p>Email: ${email}</p>\n    <p>Subject: ${subject}</p>\n    <p>Message: ${message}</p>` // html body\n  };\n\n  // Send the email\n  transporter.sendMail(mailOptions, (error, info) => {\n    if (error) {\n      return res.status(500).send('Error sending email: ' + error.message);\n    }\n    res.status(200).send('Email sent successfully: ' + info.response);\n  });\n});\n\nexport default router;"],"names":[],"mappings":";;AAKK,MAAC,SAAS,QAAQ,OAAS;AAGhC,MAAM,cAAc,WAAW,gBAAgB;AAAA,EAC7C,SAAS;AAAA,EACT,MAAM;AAAA,IACJ,MAAM,QAAQ,IAAI;AAAA,IAClB,MAAM,QAAQ,IAAI;AAAA,EACnB;AACH,CAAC;AAGD,OAAO,KAAK,KAAK,OAAO,KAAK,QAAQ;AAEnC,QAAM,EAAE,UAAU,OAAO,SAAS,QAAS,IAAG,IAAI;AAGlD,MAAI,CAAC,YAAY,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS;AAC/C,WAAO,IAAI,OAAO,GAAG,EAAE,KAAK,0BAA0B;AAAA,EACvD;AAGD,MAAI,cAAc;AAAA,IAChB,MAAM,QAAQ,IAAI;AAAA;AAAA,IAClB,IAAI;AAAA;AAAA,IACJ,SAAS,oBAAoB,QAAQ;AAAA;AAAA,IACrC,MAAM;AAAA,QAAuC,QAAQ;AAAA,SAAY,KAAK;AAAA,WAAc,OAAO;AAAA,WAAc,OAAO;AAAA;AAAA,IAChH,MAAM;AAAA,eACK,QAAQ;AAAA,gBACP,KAAK;AAAA,kBACH,OAAO;AAAA,kBACP,OAAO;AAAA;AAAA,EACzB;AAGE,cAAY,SAAS,aAAa,CAAC,OAAO,SAAS;AACjD,QAAI,OAAO;AACT,aAAO,IAAI,OAAO,GAAG,EAAE,KAAK,0BAA0B,MAAM,OAAO;AAAA,IACpE;AACD,QAAI,OAAO,GAAG,EAAE,KAAK,8BAA8B,KAAK,QAAQ;AAAA,EACpE,CAAG;AACH,CAAC;"}